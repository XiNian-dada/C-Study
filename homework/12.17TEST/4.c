#include "stdio.h"
#include "stdlib.h"
#include "string.h"
#include "math.h"
#include "ctype.h"
#define ll long long
/*
 * 题目描述：火锅的辣度
 * 
 * 难度：简单
 * 
 * 输入：
 * - 第1行：4个整数 n m h w，用空格分隔
 *   - n：火锅的行数（1 ≤ h ≤ n ≤ 10）
 *   - m：火锅的列数（1 ≤ w ≤ m ≤ 10）
 *   - h：查询矩形的行数高度
 *   - w：查询矩形的列数宽度
 * - 接下来n行：每行m个整数，表示火锅每个格子的辣度值
 * 
 * 输出：
 * - 一个整数：所有h×w矩形区域中，总辣度最大的值
 * 
 * 问题：
 * 在n×m的火锅中，找出所有可能的h×w子矩阵（h行w列）
 * 计算每个子矩阵的辣度总和（所有格子值相加）
 * 输出所有子矩阵中最大的总辣度
 * 
 * 示例1：
 * 输入:
 * 3 6 2 2
 * 1  2  3  4  5  6
 * 7  8  9 10 11 12
 * 13 14 15 16 17 18
 * 输出:
 * 58
 * 
 * 解释:
 * 火锅尺寸：3×6
 * 查询矩形：2×2
 * 可能的2×2子矩阵：
 * 左上角(1,1)：1+2+7+8=18
 * 左上角(1,2)：2+3+8+9=22
 * 左上角(1,3)：3+4+9+10=26
 * 左上角(1,4)：4+5+10+11=30
 * 左上角(1,5)：5+6+11+12=34
 * 左上角(2,1)：7+8+13+14=42
 * 左上角(2,2)：8+9+14+15=46
 * 左上角(2,3)：9+10+15+16=50
 * 左上角(2,4)：10+11+16+17=54
 * 左上角(2,5)：11+12+17+18=58  ← 最大值
 * 
 * 示例2：
 * 输入:
 * 3 6 1 3
 * 1  2  3  4  5  6
 * 7  8  9 10 11 12
 * 13 14 15 16 17 18
 * 输出:
 * 51
 * 
 * 解释:
 * 火锅尺寸：3×6
 * 查询矩形：1×3（一行三列）
 * 可能的1×3子矩阵：
 * 第1行：(1,2,3)=6, (2,3,4)=9, (3,4,5)=12, (4,5,6)=15
 * 第2行：(7,8,9)=24, (8,9,10)=27, (9,10,11)=30, (10,11,12)=33
 * 第3行：(13,14,15)=42, (14,15,16)=45, (15,16,17)=48, (16,17,18)=51 ← 最大值
 * 
 * 约束：
 * - n, m ≤ 10，因此可以暴力枚举所有子矩阵
 * - 所有可能的子矩阵数量：(n-h+1) × (m-w+1)
 * - 最大不超过 (10-1+1)×(10-1+1)=10×10=100个子矩阵
 * 
 * 算法：
 * 1. 枚举所有可能的子矩阵左上角(i,j)，其中：
 *    0 ≤ i ≤ n-h
 *    0 ≤ j ≤ m-w
 * 2. 对于每个(i,j)，计算子矩阵的和：
 *    sum = Σ Σ matrix[i+x][j+y]，其中x=0..h-1, y=0..w-1
 * 3. 记录最大和
 * 
 * 时间复杂度：
 * O(n×m×h×w)，但由于n,m,h,w ≤ 10，最大计算量10^4，可以接受
 */
int main(){
    int n,m,h,w;
    scanf("%d %d %d %d", &n, &m, &h, &w);
    ll pot[12][12];
    for(int i = 0; i < 12; i++){
        for(int j = 0; j < 12; j++){
            pot[i][j] = 0;
        }
    }
    for(int i = 0; i < n; i++){
        for(int j = 0; j < m; j++){
            scanf("%lld", &pot[i][j]);
        }
    }
    ll ans = -9223372036854775807;
    for(int i = 0; i < n - h + 1; i++){
        for(int j = 0; j < m - w + 1; j++){
            ll sum = 0;
            for(int k = i; k < i + h; k++){
                for(int l = j; l < j + w; l++){
                    sum += pot[k][l];
                }
            }
            ans = ans > sum ? ans : sum;
        }
    }
    printf("%lld\n", ans);
    return 0;
}